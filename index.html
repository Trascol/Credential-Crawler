<!DOCTYPE HTML>
<!--
	Strongly Typed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Credential Crawler</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<script src="assets/js/loginFunc.js" defer></script>
	</head>

	<div id="guest_user">	
		<body class="homepage is-preload">
			<div id="page-wrapper">

				<!-- Header -->
					<section id="header">
						<div class="container">

							<!-- Logo -->
								<h1 id="logo">Credential Crawler</h1>
								<p>A resume parser designed to streamline hiring processes and assist students and job seekers alike. </p>
								<a href="login.html" class="login-link">Login</a>
								<a href="register.html" class="register-link">Register</a>
							<!-- Nav -->
								<nav id="nav">
									<ul>
										<li><a class="icon solid fa-home" style="color: #fff" href="index.html"><span>Homepage</span></a></li>
										<li><a class="icon solid fa-user-tie" style="color: #fff" href="jobseekers.html"><span>Jobseekers</span></a></li>
										<li><a class="icon solid fa-building" style="color: #fff" href="employers.html"><span>Employers</span></a></li>
										<li><a class="icon solid fa-question" style="color: #fff" href="faq.html"><span>FAQ</span></a></li>
										<li><a class="icon solid fa-envelope" style="color: #fff" href="contact.html"><span>Contact Us</span></a></li>
									</ul>
								</nav>
						</div>
					</section>

				<!-- Features -->
					<section id="features">
						<div class="container">
							<header>
								<h2> Ladies & gentlemen, this is <strong>Credential Crawler</strong>!</h2>
							</header>
							<div class="row aln-center">
								<div class="col-4 col-6-medium col-12-small">

									<!-- Feature -->
										<section>
											<a href="jobseekers.html" class="image featured"><img src="images/pic01.jpg" alt="Photo of candidates sitting in a room. Leads to our jobseekers page."/></a>
											<header>
												<h3><strong><a href="jobseekers.html">Jobseekers</a></strong> </h3>
											</header>
											<p> 
												Optimize your resume with ease! We scan your resume, identify areas for improvement,
												and provide personalized tips to help you stand out to employers. 
											</p>
										</section>

								</div>
								<div class="col-4 col-6-medium col-12-small">
									<!-- Feature -->
										<section>
											<a href="employers.html" class="image featured"><img src="images/pic02.jpg" alt="Photo of someone looking at a resume. Leads to our employers page."/></a>
											<header>
												<h3> <strong><a href="employers.html">Employers</a></strong> </h3>
											</header>
											<p>
											Scan your applicants resume with ease! We can help you
											find the right applicants for your job posting by scanning their resume and seeing if they
											are a good fit! 
											</p> 
										</section>
								</div>
							</div>
						</div>
					</section>

				<!-- Footer -->
					<section id="footer">
						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a class="icon solid fa-home" style="color: #fff" href="index.html"><span>Homepage</span></a></li>
									<li><a class="icon solid fa-user-tie" style="color: #fff" href="jobseekers.html"><span>Jobseekers</span></a></li>
									<li><a class="icon solid fa-building" style="color: #fff" href="employers.html"><span>Employers</span></a></li>
									<li><a class="icon solid fa-question" style="color: #fff" href="faq.html"><span>FAQ</span></a></li>
									<li><a class="icon solid fa-envelope" style="color: #fff" href="contact.html"><span>Contact Us</span></a></li>
								</ul>
							</nav>
					</div>
				</section>
			</div>

			<!-- Scripts -->
				<script src="assets/js/jquery.min.js"></script>
				<script src="assets/js/jquery.dropotron.min.js"></script>
				<script src="assets/js/browser.min.js"></script>
				<script src="assets/js/breakpoints.min.js"></script>
				<script src="assets/js/util.js"></script>
				<script src="assets/js/main.js"></script>
		</body>
	</div>

	<div id="verified_user" style="display:none">
		<body class="homepage is-preload">
			<div id="page-wrapper">

				<!-- Header -->
					<section id="header">
						<div class="container">

							<!-- Logo -->
								<h1 id="logo">Credential Crawler: Home</h1>
								<div class="logged_in">
									<span id="user-name"></span>
									<a href="#" id="logout-btn">Logout</a>
								</div>
							<!-- Nav -->
								<nav id="nav">
									<ul>
										<li><a class="icon solid fa-home" style="color: #fff" href="index.html"><span>Home</span></a></li>
										<li><a class="icon solid fa-user-tie" style="color: #fff" href="jobseekerupload.html"><span>Check Your Resume</span></a></li>
										<li><a class="icon solid fa-building" style="color: #fff" href="jobListings.html"><span>View Job Listings</span></a></li>
										<li><a class="icon solid fa-building" style="color: #fff" href="employerjobposting.html"><span>Add a Job Listing</span></a></li>
										<li><a class="icon solid fa-building" style="color: #fff" href="employerResumeCheck.html"><span>Check Applicant Resumes</span></a></li>
										<li><a class="icon solid fa-envelope" style="color: #fff" href="contact.html"><span>Contact Us</span></a></li>
									</ul>
								</nav>
						</div>
					</section>

				<!-- Features -->
					<section id="features" style="min-height: 70vh;">
						<div class="container">
							<div class="row aln-center">
								<div class="col-4 col-6-medium col-12-small">

									<!-- Feature -->
										<section>
											<p> 
												Help us out! <br><a href="currentResumeUpload.html" style="color: #00ed64;">Upload your current resume and job details</a> to enhance Credential
												Crawlers functionality for future users!
											</p>
										</section>

								</div>
								<div class="col-4 col-6-medium col-12-small">
									<!-- Feature -->
										<section>
											<p>
												Trying to fill your vacant position? <br><a href="employerResumeCheck.html" style="color: #00ed64;">Click here to filter resumes based on your preferences</a>
											</p> 
										</section>
								</div>

								<div class="col-12">
									<section id="resume-summary" class="resume-summary-box">
									<h3><i class="fas fa-file-alt"></i> Your Most Recent Resume</h3>
									  <p id="resume-field">Loading field...</p>
									  <p id="resume-skills">Loading skills...</p>
									  <p>
										<a href="jobseekerupload.html" class="upload-link">
										  <i class="fas fa-upload"></i> Upload a new resume! ðŸ¦€
										</a>
									  </p>
									</section>
								  </div>

							</div>
						</div>
					</section>

				<!-- Footer -->
					<section id="footer">
						<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a class="icon solid fa-home" style="color: #fff" href="index.html"><span>Home</span></a></li>
								<li><a class="icon solid fa-user-tie" style="color: #fff" href="jobseekerupload.html"><span>Check Your Resume</span></a></li>
								<li><a class="icon solid fa-building" style="color: #fff" href="jobListings.html"><span>View Job Listings</span></a></li>
								<li><a class="icon solid fa-building" style="color: #fff" href="employerjobposting.html"><span>Add a Job Listing</span></a></li>
								<li><a class="icon solid fa-building" style="color: #fff" href="employerResumeCheck.html"><span>Check Applicant Resumes</span></a></li>
								<li><a class="icon solid fa-envelope" style="color: #fff" href="contact.html"><span>Contact Us</span></a></li>
							</ul>
						</nav>
							</div>
						</div>
					</section>

			</div>
			<script>
				document.addEventListener("DOMContentLoaded", async () => {
				  const user = JSON.parse(localStorage.getItem("user"));
				  if (!user?.user_id) return;
			  
				  try {
					const res = await fetch(`https://credential-crawler-backend.onrender.com/get-latest-resume/${user.user_id}`);
					const data = await res.json();
			  
					const fieldElem = document.getElementById("resume-field");
					const skillsElem = document.getElementById("resume-skills");
			  
					if (res.ok) {
					  const skills = data.skills_found.map(s => s.name).join(", ");
					  fieldElem.innerHTML = `<strong>Most Likely Field:</strong> ${data.guessed_field}`;
					  skillsElem.innerHTML = `<strong>All Skills Found:</strong> ${skills || 'None found'}`;
					} else {
					  fieldElem.innerHTML = `No resume uploaded yet.`;
					  skillsElem.innerHTML = `<a href="jobseekerupload.html" style="color: #00ed64;">Upload one here</a>.`;
					}
				  } catch (err) {
					console.error("Error fetching resume summary:", err);
				  }
				});
			  </script>
			  
		</body>
	</div>

</html>